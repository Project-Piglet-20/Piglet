(this["webpackJsonpproject-piglet"]=this["webpackJsonpproject-piglet"]||[]).push([[0],{221:function(e,t,a){e.exports=a.p+"static/media/Vipin.31de1b66.jpg"},222:function(e,t,a){e.exports=a.p+"static/media/Vishak.36ea516c.jpg"},223:function(e,t,a){e.exports=a.p+"static/media/Vivek.2ea5e4b6.jpeg"},226:function(e,t,a){e.exports=a(435)},231:function(e,t,a){},435:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(12),c=a.n(r),o=(a(231),a(3)),i=a(4),s=a(6),m=a(5),u=a(80),d=a(131),p=a.n(d);a(237),a(241);p.a.initializeApp({apiKey:"AIzaSyDwAG0HSvza4q_hEqxkwR0NmgS60PVnWbg",authDomain:"piglet-9d94f.firebaseapp.com",databaseURL:"https://piglet-9d94f.firebaseio.com",projectId:"piglet-9d94f",storageBucket:"piglet-9d94f.appspot.com",messagingSenderId:"850329957603",appId:"1:850329957603:web:da07f78574f82bab92c1d6",measurementId:"G-PS30013RJC"});var E=p.a,h=a(28),f=a.n(h),v={positions:[],options:{radius:20,opacity:.6}},g=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={zoom:13,center:{lat:null,lng:null},mapTypeId:"satellite",heatmap:[]},e}return Object(i.a)(a,[{key:"UNSAFE_componentWillMount",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){var a="https://api.mapbox.com/geocoding/v5/mapbox.places/"+t.coords.longitude+", "+t.coords.latitude+".json?access_token=pk.eyJ1IjoidmlwaW5yYmhhcmFkd2FqIiwiYSI6ImNrY3VvZGQ0MzJhNHYyeHM2a21uNGEzZm4ifQ.53CYrj7PS_gUiv8iqESrXQ";e.setState({center:{lat:t.coords.latitude,lng:t.coords.longitude}}),f.a.get(a).then((function(t){var a=[];new Promise((function(e,t){E.firestore().collection("issues").get().then((function(t){t.forEach((function(e){var t=e.data();a.push(t.Location)})),e(a)})).catch((function(e){console.log(e)}))})).then((function(t){v.positions=t;var a=l.a.createElement(u.a,{bootstrapURLKeys:{key:"AIzaSyAbIuPIQlI4AukyWuZOgHp4I5lammFppv8"},defaultCenter:e.state.center,defaultZoom:e.state.zoom,heatmapLibrary:!0,heatmap:v});e.setState({heatmap:a})}))}))})):alert("Sorry, browser does not support geolocation!")}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"80vh",width:"100%"}},this.state.heatmap)}}]),a}(n.Component),b=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(g,null))}}]),a}(n.Component),y=0,N=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={issues:[],issueList:[],center:{lat:null,lng:null}},e.clickHandler=function(t){var a=e.state.issues.filter((function(e){return e.DocID===t})),n=e.state.issues.filter((function(e){return e.DocID!==t}));a[0].Status="Resolved";var r=new Date,c=(r.getDate()<10?"0"+r.getDate():r.getDate())+"/"+(r.getMonth()+1<10?"0"+(r.getMonth()+1):r.getMonth()+1)+"/"+r.getFullYear();a[0].DOC=c,n.push(a[0]),e.setState({issues:n});var o=0,i=e.state.issues.map((function(t){return l.a.createElement("tr",{key:++o},l.a.createElement("td",null," ","\xa0\xa0"," ",o," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.Category," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.Type," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.Locality," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.DOR," "),l.a.createElement("td",{className:"center"}," ",l.a.createElement("button",{className:"Resolved"===t.Status?"btn waves-effect waves-teal":"btn waves-effect waves-red red",value:t.Status,onClick:function(){return e.clickHandler(t.DocID)}}," ",t.Status," ")," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.DOC," "))}));e.setState({issueList:i})},e.logoutHandler=function(){e.props.props.history.push("/login")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=[];navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+a.coords.longitude+", "+a.coords.latitude+".json?access_token=pk.eyJ1IjoidmlwaW5yYmhhcmFkd2FqIiwiYSI6ImNrY3VvZGQ0MzJhNHYyeHM2a21uNGEzZm4ifQ.53CYrj7PS_gUiv8iqESrXQ";e.setState({center:{lat:a.coords.latitude,lng:a.coords.longitude}}),f.a.get(n).then((function(a){new Promise((function(n,l){E.firestore().collection("issues").where("Locality","==",a.data.features[1].text).get().then((function(a){a.forEach((function(e){var a=e.data();a.DOR=new Date(1e3*a.DOR.seconds).toLocaleDateString("en-US"),"-"!==a.DOC&&(a.DOC=new Date(1e3*a.DOC.seconds).toLocaleDateString("en-US")),a.DocID=e.id,"Resolved"!==a.Status&&t.push(a)})),t.sort((function(e,t){return e.DOR.localeCompare(t.DOR)})),e.setState({issues:t}),n(e.state.issues)})).catch((function(e){console.log(e)}))})).then((function(t){var a=0,n=t.map((function(t){return l.a.createElement("tr",{key:++a},l.a.createElement("td",null," ","\xa0\xa0"," ",a," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.Category," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.Type," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.Locality," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.DOR," "),l.a.createElement("td",null," ",l.a.createElement("button",{className:"btn waves-effect waves-red red",onClick:function(){return e.clickHandler(t.DocID)}}," ",t.Status," ")," "),l.a.createElement("td",null," ","\xa0\xa0"," ",t.DOC," "))}));e.setState({issueList:n})}))}))})):alert("Sorry, browser does not support geolocation!");var a=window.innerWidth<800?"Swipe right for more ----\x3e":null;null!==a&&0===y++&&window.M.toast({html:a,classes:"rounded"})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("h3",null," ",l.a.createElement("i",{className:"material-icons medium left",style:{color:"teal"}},"account_circle")," Corporator ",l.a.createElement("button",{className:"btn waves-effect waves-teal right",onClick:this.logoutHandler}," Logout "))),l.a.createElement("br",null),l.a.createElement(g,{center:this.props.center}),l.a.createElement("br",null),l.a.createElement("table",{className:"highlight responsive-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"format_list_numbered")," Sl No "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"search")," Issue Category "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"info_outline")," Issue Type "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"place")," Location "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"today")," Date of Reporting "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"done_all"),"Status "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"date_range")," Date of Closure "))),l.a.createElement("tbody",null,this.state.issueList)))}}]),a}(n.Component),w=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"col s12 m7"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement(N,{props:this.props})))),l.a.createElement("br",null))}}]),a}(n.Component),O=a(23),S=a(8),j=function(e){var t=e.color,a=e.name;return l.a.createElement("div",null,l.a.createElement("div",{className:"pin bounce",style:{backgroundColor:t,cursor:"pointer"},title:a}),l.a.createElement("div",{className:"pulse"}))},D=function(){return{disableDefaultUI:!0,mapTypeControl:!0,streetViewControl:!0,styles:[{featureType:"poi",elementType:"labels",stylers:[{visibility:"on"}]}]}},k=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={center:{lat:null,lng:null},zoom:20},e.location=function(){navigator.geolocation&&navigator.geolocation.getCurrentPosition((function(t){e.setState({center:{lat:t.coords.latitude,lng:t.coords.longitude}})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.location()}},{key:"render",value:function(){return l.a.createElement("div",{style:{height:"60vh",width:"100%"}},l.a.createElement(u.a,{bootstrapURLKeys:{key:"AIzaSyAbIuPIQlI4AukyWuZOgHp4I5lammFppv8"},center:this.state.center,defaultZoom:this.state.zoom,options:D},l.a.createElement(j,{lat:this.state.center.lat,lng:this.state.center.lng,name:"My Location",color:"red"})))}}]),a}(n.Component),C=Object(S.e)((function(e){return l.a.createElement("div",{className:"container"},l.a.createElement("form",null,l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card"},l.a.createElement("br",null),l.a.createElement("h3",{className:"center",style:{color:"teal"}}," Thanks for reporting the problem. "),l.a.createElement("br",null),l.a.createElement("h4",{className:"center"}," ",l.a.createElement("i",{className:"material-icons"},"receipt")," Here's what we got from you: "),l.a.createElement("br",null),l.a.createElement("div",{className:"card-content"},l.a.createElement(k,null),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("div",{className:"card-panel grey lighten-1"},l.a.createElement("h6",{style:{fontSize:"larger"}}," 1. What is the problem? "),l.a.createElement("span",null," ",e.location.state.Type," ")," ",l.a.createElement("i",{className:"material-icons left"},"search")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("div",{className:"card-panel grey lighten-1"},l.a.createElement("h6",{style:{fontSize:"larger"}}," 2. Your phone number "),l.a.createElement("span",null," ",e.location.state.Number," ")," ",l.a.createElement("i",{className:"material-icons left"},"phone")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("div",{className:"card-panel grey lighten-1"},l.a.createElement("h6",{style:{fontSize:"larger"}}," 3. Where is the problem? "),l.a.createElement("span",null," ",e.location.state.Locality," ")," ",l.a.createElement("i",{className:"material-icons left"},"place")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("div",{className:"card-panel grey lighten-1"},l.a.createElement("h6",{style:{fontSize:"larger"}}," 4. When was it reported? "),l.a.createElement("span",null," ",(new Date).getDate()," - ",(new Date).getMonth()+1," - ",(new Date).getFullYear()," ")," ",l.a.createElement("i",{className:"material-icons left"},"today")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12"},l.a.createElement("div",{className:"center"},l.a.createElement(O.b,{to:"/"}," ",l.a.createElement("button",{className:"btn-floating btn-large waves-effect waves-light teal lighten-1 center"}," ",l.a.createElement("i",{className:"material-icons"},"done")," ")," ")))))))))})),L=Object(S.e)((function(){return l.a.createElement("nav",{className:"nav-wrapper teal"},window.innerWidth>800?l.a.createElement(O.b,{style:{fontSize:"30px"}}," ","\xa0\xa0\xa0"," PIGLET "):l.a.createElement(O.b,null," ",l.a.createElement("i",{className:"medium material-icons left"},"dehaze")," "),l.a.createElement("ul",{className:"right teal darken-2"},l.a.createElement("li",null," ",l.a.createElement(O.b,{to:"/home"}," Home ",l.a.createElement("i",{className:"material-icons left"},"home")," ")," "),l.a.createElement("li",null," ",l.a.createElement(O.b,{to:"/about"}," About ",l.a.createElement("i",{className:"material-icons left"},"contact_page")," ")," "),l.a.createElement("li",null," ",l.a.createElement(O.b,{to:"/"}," Report ",l.a.createElement("i",{className:"material-icons left"},"description")," ")," ")))})),I=function(){return l.a.createElement("footer",{className:"page-footer teal"},l.a.createElement("span",null," ","\xa0\xa0\xa0\xa0\xa0"," \xa9 2020 Copyright "),l.a.createElement("span",{className:"right",style:{color:"black",fontWeight:"bold"}},"DISCLAIMER: Data displayed here is for testing purpose only! ","\xa0\xa0\xa0\xa0\xa0"),l.a.createElement("br",null)," ",l.a.createElement("br",null))},x=a(78),R=a(134),_=a(225),A=function(e){var t=e.addData,a=e.CategoryList,n=e.count,r=e.decrementCount;return l.a.createElement("div",{className:"card-content"},l.a.createElement("label",{style:{fontSize:"larger",color:"black"}}," What is the problem? ")," ",l.a.createElement("i",{className:"material-icons left"},"search"),l.a.createElement("br",null),l.a.createElement("div",{className:"input-field col s12"},l.a.createElement(_.a,{isClearable:!0,options:a,onChange:function(e){return e?t(e):r(n)}})," "))},P="pk.eyJ1IjoidmlwaW5yYmhhcmFkd2FqIiwiYSI6ImNrY3VvZGQ0MzJhNHYyeHM2a21uNGEzZm4ifQ.53CYrj7PS_gUiv8iqESrXQ",H=a(79),z=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={number:"Please enter your phone number"},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"card-content"},l.a.createElement("label",{className:"ReportLabel"}," Phone Number ")," ",l.a.createElement("i",{className:"material-icons left"},"phone")," ",l.a.createElement("br",null),l.a.createElement("input",{id:"Number",type:"tel",min:1e9,maxLength:10,onChange:function(t){return e.props.clickHandler(t)},className:"left materialize-textarea",placeholder:"Please enter your 10 digit phone number"}),l.a.createElement("br",null)," ",l.a.createElement("br",null))}}]),a}(n.Component),M=function(){return l.a.createElement("div",{className:"card-content"},l.a.createElement("label",{className:"ReportLabel"}," Enter OTP ")," ",l.a.createElement("i",{className:"material-icons left"},"message")," ",l.a.createElement("br",null),l.a.createElement("input",{id:"OTP",onChange:function(e){return e.target.value=e.target.value.length<=e.target.maxLength?e.target.value:e.target.value.slice(0,e.target.maxLength)},type:"number",maxLength:"6",className:"right materialize-textarea",placeholder:"Please enter the 6 digit OTP send to your phone"}),l.a.createElement("br",null))},Y=0,F=!0,W=[],T=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={Category:"Select Category",Type:null,Location:{lat:null,lng:null},Number:null,Status:"Reported",DOC:"-"},e.get_data=function(t,a){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+a+", "+t+".json?access_token="+P;f.a.get(n).then((function(t){var a="Your Location: "+t.data.features[1].text;window.M.toast({html:a,classes:"rounded"}),e.setState({Locality:t.data.features[1].text})}))},e.clickHandler=function(t){t&&("OTP"!==t.id&&e.setState(Object(x.a)({},t.target.id,t.target.value)),++Y),2===Y&&(F=!1)},e.addData=function(t){e.setState({Category:t.id,Type:t.value}),++Y},e.decrementCount=function(e){0},e.submitHandler=function(t){t.preventDefault(),null!==e.state.Location.lat&&null!==e.state.Location.lng?Y>=2?(e.setState({id:e.props.id}),window.M.toast({html:"Thank you contributing to well being of the society! :)",classes:"rounded"}),e.props.props.history.push({pathname:"/result",state:e.state})):alert("All fields are mandatory!"):alert("You have not enabled location. Please enable location and refresh page to proceed further.")},e.resetHandler=function(){e.setState({state:{Category:"Select Category",Type:null,Location:{lat:null,lng:null},Number:null,Status:"Reported",DOC:"-"}})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){Y=0,F=!0,this.getList(),this.getLocation()}},{key:"getList",value:function(){E.firestore().collection("dropdownList").get().then((function(e){e.forEach((function(e){var t=e.data();"null"!==t.id&&W.push(t)}))})).catch((function(e){console.log(e)}))}},{key:"getLocation",value:function(){var e=this;navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){e.setState({Location:{lat:t.coords.latitude,lng:t.coords.longitude}}),e.get_data(t.coords.latitude,t.coords.longitude)})):alert("Sorry, browser does not support geolocation!")}},{key:"render",value:function(){var e=this;return l.a.createElement("form",{onSubmit:function(t){return e.submitHandler(t)},onReset:this.resetHandler},l.a.createElement("div",{className:"card-panel hoverable"},l.a.createElement("br",null),l.a.createElement("h3",{className:"center"}," Fill in the details ",l.a.createElement("i",{className:"material-icons small"},"article")," "),l.a.createElement("div",{className:"card-content"},l.a.createElement(A,{addData:this.addData,CategoryList:W,count:Y,decrementCount:this.decrementCount,value:this.state.Type}),l.a.createElement(z,{clickHandler:this.clickHandler,value:this.state.Number}),l.a.createElement("br",null),l.a.createElement(M,{value:this.state.OTP}),l.a.createElement("br",null),l.a.createElement("div",{className:"card-content center"},l.a.createElement("button",{disabled:F,className:"btn-floating waves-effect waves-light red right",type:"reset"}," ",l.a.createElement("i",{className:"material-icons",id:"form_submit"},"delete")," "),l.a.createElement("button",{disabled:F,className:"btn waves-effect waves-light center",type:"submit"}," ",l.a.createElement("i",{className:"material-icons right",id:"submit"},"send")," Submit ")),l.a.createElement("br",null))),l.a.createElement("div",{className:"col s5 m7"},l.a.createElement("br",null),l.a.createElement("p",{className:"right",style:{color:" red"}},l.a.createElement("i",{className:"material-icons tiny left",style:{verticalAlign:"top"}},"announcement"),"We've automatically collected your location ",l.a.createElement("i",{className:"material-icons right"},"place")),l.a.createElement("br",null)))}}]),a}(n.Component),U=Object(H.b)(null,(function(e){return{addIssue:function(t){return e(function(e){return function(t,a,n){n.getFirebase;(0,n.getFirestore)().collection("issues").add(Object(R.a)(Object(R.a)({},e),{},{DOR:new Date})).then((function(){t({type:"ADD_ISSUE",issue:e})})).catch((function(e){t({type:"ADD_ISSUE_ERROR",err:e})}))}}(t))}}}))(T),Q=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("div",{className:"col s12 m7"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-image"},l.a.createElement(k,{center:this.props.center})),l.a.createElement("div",{className:"card-content"},l.a.createElement(U,{props:this.props})))))}}]),a}(n.Component),V=function(e){var t=e.people,a=e.content,n=t.map((function(e){return l.a.createElement("div",{key:e.id},l.a.createElement("div",{className:"col s12 m8 offset-m2 l6 offset-l3"},l.a.createElement("div",{className:"card-panel hoverable grey lighten-5 z-depth-1"},l.a.createElement("div",{className:"row valign-wrapper"},l.a.createElement("img",{src:e.img,alt:"",className:"imgcol"}),l.a.createElement("div",{className:"col s10"},l.a.createElement("span",{className:"black-text"},l.a.createElement("div",{style:{maxWidth:"inherit"}}," ",l.a.createElement("i",{className:"material-icons left"},"person")," ",l.a.createElement("h5",null," ",e.name," ")),l.a.createElement("div",{style:{maxWidth:"auto"}}," ",l.a.createElement("p",null," ",a," ")," ",l.a.createElement("br",null)," ")))))))}));return l.a.createElement("div",null,n)},q=a(221),Z=a.n(q),G=a(222),J=a.n(G),B=a(223),X=a.n(B),K=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={people:[{id:1,img:Z.a,name:"Vipin R Bharadwaj"},{id:2,img:J.a,name:"Vishak LV"},{id:3,img:X.a,name:"Vivek V"}],content:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque ullamcorper pretium ornare. In iaculis, nulla vel feugiat efficitur, diam ex facilisis tortor, sit amet rutrum neque ligula quis diam. Vivamus vel lorem eu nibh interdum pulvinar ac in dolor. Sed orci libero, commodo vulputate laoreet id, blandit gravida libero. Nunc metus metus, vehicula nec cursus eu, pellentesque vel enim. Duis ornare risus est, sit amet dictum nibh porta sed."},e}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"container"},l.a.createElement("br",null),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},l.a.createElement("h3",{className:"center"}," About ")," ",l.a.createElement("br",null),l.a.createElement(V,{people:this.state.people,content:this.state.content}))))}}]),a}(n.Component),$=0,ee=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=window.innerWidth<800?"Swipe right for more ----\x3e":null;null!==e&&0===$++&&window.M.toast({html:e,classes:"rounded"})}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("table",{className:"highlight responsive-table"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"format_list_numbered")," Sl No "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"search")," Issue Category "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"info_outline")," Issue Type "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"place")," Location "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"today")," Date of Reporting "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"done_all"),"Status "),l.a.createElement("th",null," ",l.a.createElement("i",{className:"material-icons left"},"date_range")," Date of Closure "))),l.a.createElement("tbody",null,this.props.issueList)))}}]),a}(n.Component),te=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement(k,null),l.a.createElement("div",{className:"col s15 m7"},l.a.createElement("div",{className:"card-panel hoverable"},l.a.createElement("h3",{className:"center",style:{color:"#00838f"}}," Problems reported near you "),l.a.createElement("br",null),l.a.createElement("div",{className:"card-content"},l.a.createElement(ee,{issueList:this.props.issueList})))),l.a.createElement("br",null))}}]),a}(n.Component),ae=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).submitHandler=function(t){t.preventDefault(),window.M.toast({html:"Successfully Logged in! :)",classes:"rounded"}),e.props.history.push("/corporator")},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{onSubmit:function(t){return e.submitHandler(t)},className:"container",style:{height:"625px"}},l.a.createElement("br",null),l.a.createElement("form",{className:"col s12"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"card-panel hoverable"},l.a.createElement("h3",{className:"center"}," ",l.a.createElement("i",{className:"material-icons prefix"},"account_box")," Login screen "),l.a.createElement("br",null),l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",null," ",l.a.createElement("i",{className:"material-icons left"},"email")," Email"),l.a.createElement("input",{type:"text"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("input",{type:"password"}),l.a.createElement("label",null," ",l.a.createElement("i",{className:"material-icons left"},"vpn_key")," Password ")))),l.a.createElement("br",null),l.a.createElement("div",{className:"card-content center"},l.a.createElement("button",{className:"btn waves-effect waves-light center",type:"submit"}," ",l.a.createElement("i",{className:"material-icons left"},"login")," Login ")),l.a.createElement("br",null))),l.a.createElement("br",null))))}}]),a}(n.Component),ne=0,le=function(e){Object(s.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={issues:[],issueList:[]},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){0===ne++&&window.M.toast({html:"Welcome to our App!",classes:"rounded"})}},{key:"UNSAFE_componentWillMount",value:function(){var e=this,t=[];navigator.geolocation?navigator.geolocation.getCurrentPosition((function(a){var n="https://api.mapbox.com/geocoding/v5/mapbox.places/"+a.coords.longitude+", "+a.coords.latitude+".json?access_token=pk.eyJ1IjoidmlwaW5yYmhhcmFkd2FqIiwiYSI6ImNrY3VvZGQ0MzJhNHYyeHM2a21uNGEzZm4ifQ.53CYrj7PS_gUiv8iqESrXQ";f.a.get(n).then((function(a){new Promise((function(n,l){E.firestore().collection("issues").where("Locality","==",a.data.features[1].text).get().then((function(a){a.forEach((function(e){var a=e.data();a.DOR=new Date(1e3*a.DOR.seconds).toLocaleDateString("en-US"),"-"!==a.DOC&&(a.DOC=new Date(1e3*a.DOC.seconds).toLocaleDateString("en-US")),t.push(a)})),t.sort((function(e,t){return e.DOR.localeCompare(t.DOR)})),e.setState({issues:t}),n(e.state.issues)})).catch((function(e){console.log(e)}))})).then((function(t){var a=0,n=t.map((function(e){return l.a.createElement("tr",{key:++a},l.a.createElement("td",null," ","\xa0"," ",a," "),l.a.createElement("td",null," ","\xa0"," ",e.Category," "),l.a.createElement("td",null," ","\xa0"," ",e.Type," "),l.a.createElement("td",null," ","\xa0"," ",e.Locality," "),l.a.createElement("td",null," ","\xa0"," ",e.DOR," "),l.a.createElement("td",null," ","\xa0"," ",e.Status," "),l.a.createElement("td",null," ","\xa0"," ",e.DOC," "))}));e.setState({issueList:n})}))}))})):alert("Sorry, browser does not support geolocation!")}},{key:"render",value:function(){var e=this;return l.a.createElement(O.a,null,l.a.createElement("div",{className:"App teal lighten-3"},l.a.createElement(L,null),l.a.createElement(S.a,{exact:!0,path:"/",component:Q}),l.a.createElement(S.a,{path:"/about",component:K}),l.a.createElement(S.a,{path:"/home",component:function(){return l.a.createElement(te,{issueList:e.state.issueList})}}),l.a.createElement(S.a,{path:"/login",component:ae}),l.a.createElement(S.a,{path:"/corporator",component:w}),l.a.createElement(S.a,{path:"/analytics",component:b}),l.a.createElement(S.a,{path:"/result",component:C}),l.a.createElement(I,null)))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var re=a(29),ce={CategoryList:[]},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce;return e},ie={issueList:[]},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ISSUE":case"ADD-ISSUE-ERROR":default:return e}},me=Object(re.c)({category:oe,issue:se}),ue=a(224),de=a(136),pe=a(137),Ee=Object(re.e)(me,Object(re.d)(Object(re.a)(ue.a.withExtraArgument({getFirebase:pe.getFirebase,getFirestore:de.getFirestore})),Object(de.reduxFirestore)(E),Object(pe.reactReduxFirebase)(E)));c.a.render(l.a.createElement(H.a,{store:Ee},l.a.createElement(le,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[226,1,2]]]);
//# sourceMappingURL=main.758c98a2.chunk.js.map